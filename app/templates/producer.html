{% extends "base.html" %}
{% block title %}
  {{ producer.name }}
{% endblock %}

{% block content %}
<link rel="stylesheet" href="/static/styles/producer.css?v={{ time }}" />

<div class="producer-container">
  <div class="producer-header">
    {% if producer.logo %}
      <img src="{{ producer.logo }}" alt="Logo {{ producer.name }}" class="producer-logo" />
    {% endif %}
    <h1>{{ producer.name }}</h1>
  </div>

  <section class="producer-info">
    <h2>üìç Informacje o producencie</h2>
    <p><strong>Kraj:</strong> {{ producer.country_name or "Nieznany" }}</p>
    <div class="description">
      {% if producer.description %}
        {{ producer.description }}
      {% else %}
        <p class="empty">Brak opisu producenta.</p>
      {% endif %}
    </div>
  </section>

  <section class="producer-games">
    <h2>üéÆ Gry tego producenta</h2>
    {% if games %}
      <ul class="games-list">
        {% for game in games %}
          <li><a href="/game/{{ game.id }}">{{ game.title }}</a></li>
        {% endfor %}
      </ul>
    {% else %}
      <p><em>Brak gier powiƒÖzanych z tym producentem.</em></p>
    {% endif %}
  </section>

  <section class="producer-ratings">
    <h2>‚≠ê Opinie graczy</h2>
    {% if ratings %}
      <ul class="ratings-list">
        {% for r in ratings %}
          <li>
            <div class="rating-header">
              <span><a href="/profile/{{ r.user_id }}">{{ r.username }}</a></span>
              <span class="rating-score">{{ r.rating }} / 10</span>
            </div>
            <div class="rating-body">
              <p>{{ r.description or "Brak opisu." }}</p>
              <small>Dodano: {{ r.rated_at.strftime('%Y-%m-%d %H:%M') }}</small>
            </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p><em>Brak opinii o tym producencie.</em></p>
    {% endif %}
  </section>

  <div class="back-link">
    <a href="/">‚Üê Wr√≥ƒá na stronƒô g≈Ç√≥wnƒÖ</a>
  </div>
</div>
{% endblock %}
