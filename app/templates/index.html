{% extends "base.html" %}
{% block title %}Not Steam - Strona Główna{% endblock %}

{% block content %}
<div class="section_titles">
  <h2>Recommended games</h2>
</div>

<!-- Karuzela 1 -->
<div class="carousel-wrapper">
  <div class="swiper carousel1">
    <div class="swiper-wrapper">
      {% for game in carousel_games %}
      <div class="swiper-slide">
        <a href="/game/{{ game.id }}">
          <img src="./static/images/placeholder.jpg" alt="{{ game.title }}" />
          <p>{{ game.title }}</p>
        </a>
      </div>
      {% endfor %}
    </div>
    <div class="swiper-button-prev swiper-button-prev-1"></div>
    <div class="swiper-button-next swiper-button-next-1"></div>
    <div class="swiper-pagination swiper-pagination-1"></div>
  </div>
</div>

<div class="section_titles">
  <h2>New games</h2>
</div>

<!-- Karuzela 2 -->
<div class="carousel-wrapper">
  <div class="swiper carousel2">
    <div class="swiper-wrapper">
      <div class="swiper-slide"><img src="./static/images/placeholder.jpg" alt="Nowość 1" /><p>Nowość 1</p></div>
      <div class="swiper-slide"><img src="./static/images/placeholder2.jpg" alt="Nowość 2" /><p>Nowość 2</p></div>
      <div class="swiper-slide"><img src="./static/images/placeholder3.jpg" alt="Nowość 3" /><p>Nowość 3</p></div>
      <div class="swiper-slide"><img src="./static/images/placeholder4.jpg" alt="Nowość 4" /><p>Nowość 4</p></div>
      <div class="swiper-slide"><img src="./static/images/placeholder5.jpg" alt="Nowość 5" /><p>Nowość 5</p></div>
      <div class="swiper-slide"><img src="./static/images/placeholder6.jpg" alt="Nowość 5" /><p>Nowość 5</p></div>
      <div class="swiper-slide"><img src="./static/images/placeholder7.jpg" alt="Nowość 5" /><p>Nowość 5</p></div>
    </div>
    <div class="swiper-button-prev swiper-button-prev-2"></div>
    <div class="swiper-button-next swiper-button-next-2"></div>
    <div class="swiper-pagination swiper-pagination-2"></div>
  </div>
</div>

<div>
  <h2 class="section_titles">Genres</h2>
</div>

<!-- Kafelki -->
<div class="tiles-section">
  <div class="tiles-grid">
    <div class="tile"><img src="./static/images/placeholder.jpg" alt="Tile 1"><p>Tile 1</p></div>
    <div class="tile"><img src="./static/images/placeholder2.jpg" alt="Tile 2"><p>Tile 2</p></div>
    <div class="tile"><img src="./static/images/placeholder3.jpg" alt="Tile 3"><p>Tile 3</p></div>
    <div class="tile"><img src="./static/images/placeholder4.jpg" alt="Tile 4"><p>Tile 4</p></div>
    <div class="tile"><img src="./static/images/placeholder5.jpg" alt="Tile 5"><p>Tile 5</p></div>
    <div class="tile"><img src="./static/images/placeholder6.jpg" alt="Tile 6"><p>Tile 6</p></div>
    <div class="tile"><img src="./static/images/placeholder7.jpg" alt="Tile 7"><p>Tile 7</p></div>
  </div>
</div>

<div class="rating-bar">
  <p>Oceń stronę:</p>
  <div class="stars">
    <span class="star" data-value="1">&#9734;</span>
    <span class="star" data-value="2">&#9734;</span>
    <span class="star" data-value="3">&#9734;</span>
    <span class="star" data-value="4">&#9734;</span>
    <span class="star" data-value="5">&#9734;</span>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
  new Swiper('.carousel1', {
    slidesPerView: 3,
    loop: true,
    spaceBetween: 20,
    navigation: {
      nextEl: '.swiper-button-next-1',
      prevEl: '.swiper-button-prev-1',
    },
    pagination: {
      el: '.swiper-pagination-1',
      clickable: true,
    },
  });

  new Swiper('.carousel2', {
    slidesPerView: 6,
    loop: true,
    spaceBetween: 15,
    navigation: {
      nextEl: '.swiper-button-next-2',
      prevEl: '.swiper-button-prev-2',
    },
    pagination: {
      el: '.swiper-pagination-2',
      clickable: true,
    },
  });

  const stars = document.querySelectorAll('.star');
  stars.forEach(star => {
    star.addEventListener('click', () => {
      const rating = parseInt(star.getAttribute('data-value'));
      stars.forEach(s => {
        s.classList.toggle('filled', parseInt(s.getAttribute('data-value')) <= rating);
      });
    });
  });
</script>
{% endblock %}
