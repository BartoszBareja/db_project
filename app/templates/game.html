{% extends "base.html" %}
{% block title %}{{ game.title }}{% endblock %}

{% block content %}
  <div class="main">
    <h1>{{ game.title }}</h1>
    <p>{{ game.description }}</p>

    {% if game.image_url %}
      <img src="{{ game.image_url }}" alt="{{ game.title }}" />
    {% else %}
      <img src="/static/images/placeholder.jpg" alt="Brak okÅ‚adki">
    {% endif %}

    <p><strong>Wydawca:</strong>
      <a href="/producer/{{ game.producer_id }}">
        {{ game.producer_name }}
      </a>
    </p>

    <p><strong>Data premiery:</strong> {{ game.release_date }}</p>
    <p><strong>Gatunek:</strong> {{ game.genre }}</p>
  </div>

  <h2>OsiÄ…gniÄ™cia</h2>
  {% if achievements %}
    <ul class="achievement-list">
      {% for a in achievements %}
        <li class="achievement-item">
          <span class="achievement-title" onclick="toggleDescription('desc-{{ a.id }}')">
            ğŸ† {{ a.name }} ({{ a.points }} pkt)
          </span>
          <div id="desc-{{ a.id }}" class="achievement-description hidden">
            <p>{{ a.description or "Brak opisu." }}</p>
          </div>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>Brak osiÄ…gniÄ™Ä‡ dla tej gry.</p>
  {% endif %}

  <a href="/">â† WrÃ³Ä‡ na stronÄ™ gÅ‚Ã³wnÄ…</a>
{% endblock %}

{% block scripts %}
<script>
  function toggleDescription(id) {
    const el = document.getElementById(id);
    el.classList.toggle("hidden");
  }
</script>
{% endblock %}
